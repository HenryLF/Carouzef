"use strict";var y=Object.defineProperty;var X=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var W=Object.prototype.hasOwnProperty;var Y=(e,t)=>{for(var n in t)y(e,n,{get:t[n],enumerable:!0})},$=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of H(t))!W.call(e,o)&&o!==n&&y(e,o,{get:()=>t[o],enumerable:!(r=X(t,o))||r.enumerable});return e};var B=e=>$(y({},"__esModule",{value:!0}),e);var Z={};Y(Z,{Carouzef:()=>J,useCarouzef:()=>D,useCarouzefItem:()=>j});module.exports=B(Z);var i=require("react");var c=require("react");function P(e,t,n,r){return r?(n+e+t)%n:Math.max(Math.min(t+e,n-1),0)}function T(e,t,n){return n?(e+t)%t:Math.min(t-1,Math.max(0,e))}function A(e,t,n,r){if(!r)return e-t;let o=e-t,a=o>0?o-n:o+n;return Math.abs(o)<Math.abs(a)?o:a}function z(e,t){let n={activeChilds:[],inactiveChilds:[]};return c.Children.forEach(e,r=>{if((0,c.isValidElement)(r)){let{className:o}=r.props;o?.includes(t)?n.inactiveChilds.push(r):n.activeChilds.push(r)}}),n}function N(e,t){let n=c.Children.count(e);if(!n)return[];let r=c.Children.toArray(e),o=Math.max(t*2,3);for(;r.length<=o;)r=[...r,...r.slice(0,n)];return r}function k(e,t){return e===0?"active":e===-1?"prev":e===1?"next":Math.abs(e)>t/2+1?"hidden":e<0?"before":"after"}function _(e,t){let n=!1;return function(...r){let o=this;n||(e.apply(o,r),n=!0,setTimeout(()=>n=!1,t))}}function O({onSwipeLeft:e,onSwipeRight:t,onSwipeUp:n,onSwipeDown:r,onKeysUp:o,swipeThreshold:a,keyboardEventThrottle:v}){let f=(0,c.useRef)(null),l=(0,c.useRef)(null),d=a,m=s=>{for(let b in o)s.key==b&&o[b]()};return(0,c.useEffect)(()=>{let s=_(m,v);return window.addEventListener("keyup",s),()=>window.removeEventListener("keyup",s)},[]),{onTouchStart:s=>{l.current=s.nativeEvent.targetTouches[0],f.current=s.nativeEvent.targetTouches[0]},onTouchMove:s=>l.current=s.nativeEvent.targetTouches[0],onTouchEnd:()=>{if(!f.current||!l.current)return;let s=l.current.clientX-f.current.clientX,b=l.current.clientY-f.current.clientY;s>d&&t(),s<-d&&e(),b>d&&r(),b<-d&&n()}}}var C=require("react/jsx-runtime"),M=(0,i.createContext)(null);function D(){return(0,i.useContext)(M)}var V=(0,i.createContext)(null);function j(){return(0,i.useContext)(V)}function q(e,{type:t,arg:n}){let r;switch(t){case"increment_index":return r=P(e.index,n,e.numberOfItems,e.loop),{...e,index:r};case"set_index":return r=T(n,e.numberOfItems,e.loop),{...e,index:r};default:return e}}var G={interval:3e3,step:1};function J({children:e,startingItem:t=0,itemsPerView:n=2,loop:r=!0,autoPlay:o,cssStyle:a,changeItemOnClick:v=!0,swipeThreshold:f=50,keyboardEventThrottle:l=500,keyboardNavigation:d={ArrowLeft:"previous",ArrowRight:"next"},axis:m="horizontal"}){let[E,S,w]=(0,i.useMemo)(()=>{let{activeChilds:u,inactiveChilds:h}=z(e,"carousel-ignore");return[N(u,n),u,h]},[e,n]),s=i.Children.count(E),b={index:T(t,s,r),itemsPerView:n,numberOfItems:s,realNumberOfItems:S.length,loop:r},x={...G};if(o)switch(typeof o){case"number":x.interval=o;break;case"boolean":break;default:Object.assign(x,o)}let F={"--items-per-view":n,...a},U=(0,i.useCallback)(u=>R({type:"set_index",arg:u}),[]),p=(0,i.useCallback)(u=>R({type:"increment_index",arg:u}),[]),[K,R]=(0,i.useReducer)(q,b),I=m=="vertical",g={};for(let u in d)d[u]=="next"?g[u]=()=>p(1):g[u]=()=>p(-1);let L=O({onSwipeLeft:I?()=>{}:()=>p(1),onSwipeRight:I?()=>{}:()=>p(-1),onSwipeUp:I?()=>p(1):()=>{},onSwipeDown:I?()=>p(-1):()=>{},onKeysUp:g,swipeThreshold:f,keyboardEventThrottle:l});return(0,i.useEffect)(()=>{let u=[()=>{}];if(o&&x){let h=setInterval(()=>p(1),x.interval);u.push(()=>{clearInterval(h)})}return()=>u.forEach(h=>h())},[o]),(0,C.jsx)("div",{className:"carousel-wrapper",children:(0,C.jsxs)(M.Provider,{value:{setIndex:U,incrementIndex:p,...K},children:[(0,C.jsx)("div",{style:F,...L,className:"carousel-container",children:i.Children.map(E,(u,h)=>(0,C.jsx)(Q,{index:h,changeItemOnClick:v,axis:m,children:u},h))}),w]})})}function Q({children:e,index:t,changeItemOnClick:n,axis:r}){let o=D();if(!o)return e;let a=A(t,o.index,o.numberOfItems,o.loop),v={};r=="horizontal"?v.height="auto":v.width="auto";let f={"--item-index":`${t}`,"--distance-to-active":`${a}`,...v};if((0,i.isValidElement)(e)){let m=e.props.cssStyle;m&&Object.assign(f,m)}let l=k(a,o.itemsPerView);return(0,C.jsx)("div",{onClickCapture:n?m=>{t!=o?.index&&(m.stopPropagation(),m.preventDefault(),o.setIndex(t))}:()=>{},className:`carousel-item carousel-item-${l}`,style:f,children:(0,C.jsx)(V.Provider,{value:{index:t,activeIndex:o?.index,toActiveIndex:a,position:l},children:e})})}0&&(module.exports={Carouzef,useCarouzef,useCarouzefItem});
